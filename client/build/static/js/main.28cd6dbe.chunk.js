(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/welcome.135f8233.jpg"},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(17),c=a.n(r),s=(a(59),a(19)),o=a(7),l=(a(60),a(61),a(21)),i=a.n(l),u=a(25),j=a(91),b=a(95),d=a(92),p=a(12),O="SIGNUP_USER",m="SET_LOGIN_USER",x="RESET_LOGIN_USER",h=function(e){return{type:O,payload:e}},f=a(47),v=a(48),g=a(49),y=a.n(g).a.create({baseURL:"http://localhost:7000/",headers:{"Content-type":"application/json"}}),w=new(function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,[{key:"signup",value:function(e){return y.post("/signup",e)}},{key:"login",value:function(e){return y.post("/login",e)}}]),e}()),k=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.signup(e);case 3:n=t.sent,a(h(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},E=[{label:"Name",type:"text",name:"names",placeholder:"Enter name",required:"required"},{label:"Email Address",type:"email",name:"email",placeholder:"Enter email",required:"required"},{label:"Password",type:"password",name:"password",placeholder:"Enter password",required:"required"},{label:"City",type:"text",name:"city",placeholder:"Enter city",required:"required"}],S=a(1);function _(){var e=Object(p.b)(),t=Object(o.g)(),a=function(){var a=Object(u.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!(n.target.names.value&&n.target.password.value&&n.target.email.value&&n.target.city.value)){a.next=7;break}return a.next=4,e(k({name:n.target.names.value,password:n.target.password.value,email:n.target.email.value,city:n.target.city.value}));case 4:t.push("/login"),a.next=8;break;case 7:alert("Please Fill All Field");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"col-3 mx-auto",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h1",{children:"Signup Page"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(j.a,{children:Object(S.jsxs)(b.a,{onSubmit:a,children:[E.map((function(e){return Object(S.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(S.jsx)(b.a.Label,{children:e.label}),Object(S.jsx)(b.a.Control,{type:e.type,placeholder:e.placeholder,name:e.name,required:e.required})]})})),Object(S.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})}function I(){var e=Object(p.b)();return Object(S.jsxs)("div",{className:"col-3 mx-auto",children:[Object(S.jsx)("br",{}),Object(S.jsx)("h1",{children:"Login Page"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)(j.a,{children:Object(S.jsxs)(b.a,{onSubmit:function(t){var a;t.preventDefault(),t.target.email.value&&t.target.password.value?e((a={email:t.target.email.value,password:t.target.password.value},function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.login(a);case 3:n=e.sent,t((r=n.data,localStorage.setItem("token",r.token),localStorage.setItem("name",r.name),{type:m,payload:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Incorrect Email or Password");case 10:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())):alert("invlid input")},children:[Object(S.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(S.jsx)(b.a.Label,{children:"Email address"}),Object(S.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",name:"email"})]}),Object(S.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(S.jsx)(b.a.Label,{children:"Password"}),Object(S.jsx)(b.a.Control,{type:"password",placeholder:"Password",name:"password"})]}),Object(S.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})}var L=a(93),N=a(94);function U(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"pt-5",children:"Welcome Page"}),Object(S.jsx)("img",{alt:"avtar",src:a(86).default})]})}var q=a(2),P=a(3),R=["component"],D=function(e){var t=e.component,a=Object(P.a)(e,R),n=Object(p.c)((function(e){return e.Users.token}));return Object(S.jsx)(o.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return n?Object(S.jsx)(t,Object(q.a)(Object(q.a)({},a),e)):Object(S.jsx)(o.a,{to:"/login"})}}))},G=["component"],T=function(e){var t=e.component,a=Object(P.a)(e,G),n=Object(p.c)((function(e){return e.Users.token}));return Object(S.jsx)(o.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return n?Object(S.jsx)(o.a,{to:"/welcome"}):Object(S.jsx)(t,Object(q.a)(Object(q.a)({},a),e))}}))};function B(){var e=Object(o.g)(),t=Object(p.b)();return Object(n.useEffect)((function(){t({type:x}),localStorage.removeItem("token"),localStorage.removeItem("name"),alert("You are SuccessFully LogOut"),e.push("/login")}),[t,e]),Object(S.jsx)("div",{})}var C=function(){var e=Object(p.c)((function(e){return e.Users.token}));return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(s.a,{children:[Object(S.jsx)(L.a,{bg:"dark",variant:"dark",children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(L.a.Brand,{as:s.b,to:"/",children:"React App"}),Object(S.jsx)(N.a,{className:"me-auto",children:e?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N.a.Link,{as:s.b,to:"/",children:"Welcome"}),Object(S.jsx)(N.a.Link,{as:s.b,to:"/logout",children:"Logout"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N.a.Link,{as:s.b,to:"/login",children:"Login"}),Object(S.jsx)(N.a.Link,{as:s.b,to:"/signup",children:"Signup"})]})})]})}),Object(S.jsxs)(o.d,{children:[Object(S.jsx)(D,{component:B,exact:!0,path:"/logout"}),Object(S.jsx)(D,{component:U,exact:!0,path:"/welcome"}),Object(S.jsx)(D,{exact:!0,path:"/",children:Object(S.jsx)(o.a,{to:"/welcome"})}),Object(S.jsx)(T,{component:_,exact:!0,path:"/signup"}),Object(S.jsx)(T,{component:I,exact:!0,path:"/login"})]})]})})},F=a(24),A=a(54),X={users:[],token:localStorage.getItem("token"),username:localStorage.getItem("name")},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(q.a)(Object(q.a)({},e),{},{users:t.payload});case m:return Object(q.a)(Object(q.a)({},e),{},{token:t.payload.token,username:t.payload.name});case x:return Object(q.a)(Object(q.a)({},e),{},{token:null,_id:null,username:null,email:null,city:null});default:return e}},V=Object(F.b)({Users:J}),W=Object(F.d)(V,Object(F.c)(Object(F.a)(A.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(Object(S.jsx)(p.a,{store:W,children:Object(S.jsx)(C,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.28cd6dbe.chunk.js.map